<html><head>
        <META http-equiv="content-type" content="text/html; charset=utf-8">
        <title>ab.signal</title>
        </head><body>
        <h1>ab.signal</h1>
        <!-- Generated by Ddoc from src/absignal/ab/signal.d -->
Plain and straightforward implementation of the Observer Design Pattern.
<br><br>
<b>Copytight:</b><br>
Copyright &copy; 2012 angryBubo &amp; Stanislav Demyanovich
<br><br>
<b>License:</b><br>
<a href="http://www.opensource.org/licenses/MIT">MIT License</a>
<br><br>
<b>Authors:</b><br>
Stanislav Demyanovich, <a href="mailto:stan@angrybubo.com">stan@angrybubo.com</a>
<br><br>
<b>Date:</b><br>
September 23 2012
<br><br>


<br><br>
<b>Examples:</b><br>
<pre class="d_code"><font color=blue>import</font> ab.<u>signal</u>;
<font color=blue>import</font> std.stdio;

	<font color=blue>class</font> Observable {

		<font color=blue>mixin</font> Signal;
	}

	<font color=blue>class</font> Observer {

		<font color=blue>public</font> <font color=blue>void</font> slot() {

			writeln( <font color=red>"Observable signaled."</font> );
		}
	}

	...

	<font color=blue>auto</font> observable = <font color=blue>new</font> Observable;
	<font color=blue>auto</font> observer = <font color=blue>new</font> Observer;

	observable.connect( &amp;observer.slot );

	...

	observable.emit(); <font color=green>//Will print "Observable signaled."
</font>
</pre>
<br><br>

<br><br>

 You can have as many signals in the scope as You need by naming.
 Signals may have arguments (note that connected slots must have exactly the same parameter list).
<pre class="d_code"><font color=blue>import</font> ab.<u>signal</u>;
<font color=blue>import</font> std.stdio;

<font color=blue>class</font> Observable {

	<font color=blue>private</font> <font color=blue>int</font> _number;

	<font color=blue>mixin</font> Signal occasion;
	<font color=blue>mixin</font> Signal!( <font color=blue>int</font> ) numberChanged;

	<font color=blue>public</font> <font color=blue>void</font> setNumber( <font color=blue>int</font> number ) {

		_number = number;
		numberChanged.emit( number );
	}
}

<font color=blue>class</font> Observer {

	<font color=blue>public</font> <font color=blue>void</font> onOccasion() {

		writeln( <font color=red>"Something happens!"</font>);
	}

	<font color=blue>public</font> <font color=blue>void</font> onNumberChanged( <font color=blue>int</font> number ) {

		writefln( <font color=red>"Observable's number is changed to %s"</font>, number );
	}
}

...

<font color=blue>auto</font> observable = <font color=blue>new</font> Observable;
<font color=blue>auto</font> observer = <font color=blue>new</font> Observer;

observable.occasion.connect( &amp;observer.onOccasion );
observable.numberChanged.connect( &amp;observer.onNumberChanged );

observable.occasion.emit(); <font color=green>//will print "Something happens!"
</font>observable.setNumber( 8 ); <font color=green>//will print "Observable's number is changed to 8"
</font>
observable.numberChanged.disconnect( &amp;observer.onNumberChanged );

observable.occasion.emit(); <font color=green>//will print "Something happens!"
</font>observable.setNumber( 0 ); <font color=green>//will print nothing.
</font></pre>
<br><br>

<br><br>

 Any <u>signal</u> may have as many connected slots as needed.
<pre class="d_code"><font color=blue>import</font> ab.<u>signal</u>;
<font color=blue>import</font> std.stdio;

<font color=blue>class</font> Officer {

	<font color=blue>private</font> string _name;

	<font color=blue>public</font> <font color=blue>this</font>( string name ) {

		_name = name;
	}

	<font color=blue>mixin</font> Signal!( string ) command;

	<font color=blue>public</font> <font color=blue>void</font> perform( string cmd) {

		writefln( <font color=red>"%s was ordered to: \"%s\"\nPerforming."</font>, _name, cmd);
	}
}


<font color=blue>auto</font> captain = <font color=blue>new</font> Officer( <font color=red>"J. T. Kirk"</font> );
<font color=blue>auto</font> commander = <font color=blue>new</font> Officer( <font color=red>"Spock"</font> );
<font color=blue>auto</font> ltCommander = <font color=blue>new</font> Officer( <font color=red>"Scott"</font> );
<font color=blue>auto</font> lieutenant = <font color=blue>new</font> Officer( <font color=red>"Sulu"</font> );
<font color=blue>auto</font> ensign = <font color=blue>new</font> Officer( <font color=red>"Chekov"</font> );

captain.command.connect( &amp;commander.perform );
captain.command.connect( &amp;ltCommander.perform );
captain.command.connect( &amp;lieutenant.perform );
captain.command.connect( &amp;ensign.perform );

captain.command.emit( <font color=red>"Attack!! Kill'em all!"</font> );
</pre>
<br><br>

<dl><dt><big><a name="ABSIGNAL_VERSION_MAJOR"></a><u>ABSIGNAL_VERSION_MAJOR</u></big></dt>
<dd><b>ab.signal</b> major version number<br><br>

</dd>
<dt><big><a name="ABSIGNAL_VERSION_MINOR"></a><u>ABSIGNAL_VERSION_MINOR</u></big></dt>
<dd><b>ab.signal</b> minor version number<br><br>

</dd>
<dt><big><a name="ABSIGNAL_VERSION_FIX"></a><u>ABSIGNAL_VERSION_FIX</u></big></dt>
<dd><b>ab.signal</b> fix version number<br><br>

</dd>
<dt><big><a name="Signal"></a>template <u>Signal</u>(TT...)</big></dt>
<dd>Mixin to create signals and accompanying tools for working with the "slots" (actually, delegates).<br><br>

<dl><dt><big><a name="Signal.connect"></a>void <u>connect</u>(void delegate(TT) <i>slot</i>);
</big></dt>
<dd>Connects a specified <i>slot</i> to the signal.
<br><br>
<b>Params:</b><br>
<table><tr><td>void delegate(TT) <i>slot</i></td>
<td>The <i>slot</i> to <u>connect</u>. It must be a void delegate with parameter list the same as the signal's parameters.</td></tr>
</table><br>

</dd>
<dt><big><a name="Signal.disconnect"></a>void <u>disconnect</u>(void delegate(TT) <i>slot</i>);
</big></dt>
<dd>Disconnects specified <i>slot</i> from the signal.
<br><br>
<b>Params:</b><br>
<table><tr><td>void delegate(TT) <i>slot</i></td>
<td>The <i>slot</i> to <u>disconnect</u>. Nothing happens, if the <i>slot</i> is not connected.</td></tr>
</table><br>

</dd>
<dt><big><a name="Signal.disconnectAll"></a>void <u>disconnectAll</u>();
</big></dt>
<dd>Disconnects all the slots from the signal.<br><br>

</dd>
<dt><big><a name="Signal.emit"></a>void <u>emit</u>(TT <i>tt</i>);
</big></dt>
<dd>Emits the signal, i.e. calls all the slots which has connected the the signal emitted with the cpecified argument list.
<br><br>
<b>Params:</b><br>
<table><tr><td>TT <i>tt</i></td>
<td>Actual argument list. It must correspond the signal's parameter list.</td></tr>
</table><br>

</dd>
</dl>
</dd>
</dl>

        <hr><small>Page generated by <a href="http://dlang.org/ddoc.html">Ddoc</a>. </small>
        </body></html>
